<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Property Details</title>
  <link rel="icon" type="image/png" href="assets/favicon.ico" />
    <meta
      name="description"
      content="Browse featured properties for sale and rent by Shelter Nest Realty"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/style.css" />
  <style>
    body {
      font-family: "Segoe UI", Arial, sans-serif;
      background: linear-gradient(135deg, #f5f7fa, #e9edf3);
      margin: 0;
      padding: 0px 25px;
    }

    .container {
      max-width: 1100px;
      margin: auto;
      animation: fadeUp 0.6s ease both;
    }

    a.back {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      text-decoration: none;
      color: #0a3d62;
      font-weight: 600;
      margin-bottom: 20px;
    }

    a.back:hover {
      text-decoration: underline;
    }

    h2.page-title {
      color: #0a3d62;
      font-size: 36px;
      font-weight: 800;
      margin-bottom: 10px;
    }

    .location {
      color: #6c757d;
      font-size: 16px;
      margin-bottom: 25px;
    }

    /* Image Gallery */
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 16px;
      margin-bottom: 30px;
    }

    .gallery img,
    .gallery video {
      width: 100%;
      height: 220px;
      object-fit: cover;
      border-radius: 14px;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .gallery img:hover,
    .gallery video:hover {
      transform: scale(1.04);
      box-shadow: 0 20px 40px rgba(0,0,0,0.25);
    }

    /* Property Card */
    .property-card {
      background: #fff;
      border-radius: 20px;
      padding: 25px 30px;
      box-shadow: 0 18px 45px rgba(0,0,0,0.12);
    }

    .price {
      font-size: 28px;
      font-weight: 900;
      color: #1e272e;
      margin-bottom: 15px;
    }

    .badges {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }

    .badge {
      padding: 8px 18px;
      border-radius: 30px;
      background: #eef4fb;
      color: #0a3d62;
      font-weight: 600;
      font-size: 14px;
    }

    .details-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 8px;
      color: #0a3d62;
    }

    .details-text {
      font-size: 15px;
      color: #444;
      line-height: 1.7;
    }

    /* Image Modal */
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.85);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 999;
    }

    .modal img,
    .modal video {
      max-width: 90%;
      max-height: 90%;
      border-radius: 12px;
      animation: zoomIn 0.3s ease;
    }

    .modal span {
      position: absolute;
      top: 25px;
      right: 30px;
      font-size: 32px;
      color: #fff;
      cursor: pointer;
      font-weight: bold;
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes zoomIn {
      from { transform: scale(0.85); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
  </style>
</head>

<body>
    <!-- ================= HEADER ================= -->
  <header class="site-header">
    <div class="container">
      <nav class="navbar">
           <div class="brand">
          <a href="index.html" class="logo-link">
            <img src="assets/new_logo.jpg" alt="Shelter Nest Realty Logo" class="logo" />
          </a>
        </div>

        <!-- Hamburger -->
        <button class="menu-toggle" id="menuToggle" aria-label="Toggle Menu">
          <span></span>
          <span></span>
          <span></span>
        </button>

        <div class="nav-links" id="navLinks">

          <!-- Home -->
          <a href="index.html">Home</a>

          <!-- ABOUT US DROPDOWN -->
          <div class="nav-item dropdown" style="cursor: pointer;">
            <a href="#" class="dropdown-toggle">
              About Us <span class="arrow">▾</span>
            </a>

            <div class="dropdown-menu">
              <a href="company-overview.html">Company Overview</a>
              <a href="management-team.html">Management Team</a>
              <a href="affiliations.html">Professional Affiliates</a>
            </div>
          </div>

          <!-- SERVICES DROPDOWN -->
          <div class="nav-item dropdown">
            <a href="services.html" class="dropdown-toggle">
              Services <span class="arrow">▾</span>
            </a>

            <div class="dropdown-menu dropdown-wide">
              <a href="valuation.html">Valuation for All Purposes</a>
              <a href="propertymanagement.html">Property & Facility Management</a>
              <a href="estateagency.html">Estate Agency</a>
              <a href="feasibility.html">Feasibility & Viability Appraisal</a>
              <a href="titlesearch.html">Title Search & Verification</a>
              <a href="projectmanagement.html">Project Management</a>
              <a href="propertymarketing.html">Property Marketing</a>
              <a href="advisory.html">Real Estate Advisory Services</a>
            </div>
          </div>

          <!-- Other Links -->
          <a href="properties.html">Properties</a>
          <a href="contact.html">Contact Us</a>
          <!-- INSIGHTS MEGA MENU -->

          <div class="nav-item mega-dropdown">
            <a href="#" class="dropdown-toggle">
              Insights <span class="arrow">▾</span>
            </a>

            <div class="mega-menu">



              <!-- COLUMN 2 -->
              <div class="mega-col webinar">
                <h4>Our Socials</h4>

                <div class="social-row">
                  <a href="#"> <img src="assets/linkedin.jpg" alt="LinkedIn"> LinkedIn</a>
                 <br>
                  <a href="#"><img src="assets/ig.jpg" alt="Instagram">Instagram</a>
                </div>
              </div>

              <!-- COLUMN 3 -->
              <div class="mega-col webinar">
                <h4>Podcast</h4>

                <a href="https://www.youtube.com/watch?v=1oDmcjf4MO4&t">
                  <img src="assets/youtube.png" alt="YouTube">
                  How Property Development is Transforming Nigerian Neighborhoods
                </a>

                <a href="https://www.youtube.com/watch?v=9yST5KGYSmE">
                  <img src="assets/youtube.png" alt="YouTube">
                  Smart Investment Strategies: Maximizing Returns in Lagos Real Estate
                </a>

                <a href="#">
                  <img src="assets/youtube.png" alt="YouTube">
                  Rising property prices and rental yields: What’s driving the Nigerian Real Estate boom?
                </a>

                <a href="#">
                  <img src="assets/youtube.png" alt="YouTube">
                  Real Estate Playbook
                </a>

                <a href="https://www.youtube.com/@shelternestrealty" class="see-more">See more →</a>
              </div>


            </div>
          </div>


        </div>
      </nav>
    </div>
  </header>
<div class="container">

  <a class="back" href="properties.html">← Back to All Properties</a>

  <h2 class="page-title" id="title">Property Title</h2>
  <div class="location" id="location"></div>

  <div class="gallery" id="media"></div>

  <div class="property-card">
    <div class="price">₦<span id="price"></span></div>

    <div class="badges">
      <div class="badge" id="type"></div>
      <div class="badge" id="sale_rent"></div>
    </div>

    <div class="details-title">Property Description</div>
    <div class="details-text" id="details"></div>
  </div>

</div>

<!-- Image Modal -->
<div class="modal" id="imageModal">
  <span onclick="closeModal()">×</span>
  <div id="modalContent"></div>
</div>
    <footer>
      © <span>Shelter Nest Realty</span> — Estate Surveyors & Valuers | All
      Rights Reserved
    </footer>
    <script src="js/script.js"></script>
    <script src="js/detail.js"></script>
    <script src="js/main.js"></script>
<script type="module">
import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm";

const supabase = createClient(
  "https://fcxeuhmgizpjzldaervh.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZjeGV1aG1naXpwanpsZGFlcnZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc5MDM5MDIsImV4cCI6MjA4MzQ3OTkwMn0.Q_V24qHvCn_iC6OZiP_Y83C_BzOgBL39yRY1RdP8k50"
);

const urlParams = new URLSearchParams(window.location.search);
const propertyId = urlParams.get("id");

if (!propertyId) {
  document.body.innerHTML = "<p>Property ID not found.</p>";
}

async function loadProperty() {
  try {
    const { data: property, error } = await supabase
      .from("properties")
      .select("*")
      .eq("id", propertyId)
      .single();

    if (error) throw error;

    document.getElementById("title").textContent = property.title;
    document.getElementById("location").textContent = property.location;
    document.getElementById("price").textContent = Number(property.price).toLocaleString();
    document.getElementById("type").textContent = property.property_type;
    document.getElementById("sale_rent").textContent = property.sale_rent;
    document.getElementById("details").textContent = property.details;

    document.getElementById("media").innerHTML = (property.images || []).map(url => {
      if (url.endsWith(".mp4")) {
        return `<video muted controls onclick="openModal('${url}', true)"><source src="${url}" type="video/mp4"></video>`;
      }
      return `<img src="${url}" onclick="openModal('${url}', false)">`;
    }).join("");

  } catch (err) {
    console.error(err);
    document.body.innerHTML = "<p>Error loading property.</p>";
  }
}

loadProperty();

window.openModal = function (src, isVideo) {
  const modal = document.getElementById("imageModal");
  const content = document.getElementById("modalContent");
  modal.style.display = "flex";
  content.innerHTML = isVideo
    ? `<video src="${src}" controls autoplay></video>`
    : `<img src="${src}">`;
};

window.closeModal = function () {
  document.getElementById("imageModal").style.display = "none";
  document.getElementById("modalContent").innerHTML = "";
};
</script>

</body>
</html>
